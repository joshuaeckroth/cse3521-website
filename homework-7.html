<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
               "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>Homework 7</title>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1"/>
<meta name="title" content="Homework 7"/>
<meta name="generator" content="Org-mode"/>
<meta name="generated" content="2012-09-06 17:31:16 EDT"/>
<meta name="author" content="Joshua Eckroth"/>
<meta name="description" content=""/>
<meta name="keywords" content=""/>
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  html { font-family: Times, serif; font-size: 12pt; }
  .title  { text-align: center; }
  .todo   { color: red; }
  .done   { color: green; }
  .tag    { background-color: #add8e6; font-weight:normal }
  .target { }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .right  {margin-left:auto; margin-right:0px;  text-align:right;}
  .left   {margin-left:0px;  margin-right:auto; text-align:left;}
  .center {margin-left:auto; margin-right:auto; text-align:center;}
  p.verse { margin-left: 3% }
  pre {
	border: 1pt solid #AEBDCC;
	background-color: #F3F5F7;
	padding: 5pt;
	font-family: courier, monospace;
        font-size: 90%;
        overflow:auto;
  }
  table { border-collapse: collapse; }
  td, th { vertical-align: top;  }
  th.right  { text-align:center;  }
  th.left   { text-align:center;   }
  th.center { text-align:center; }
  td.right  { text-align:right;  }
  td.left   { text-align:left;   }
  td.center { text-align:center; }
  dt { font-weight: bold; }
  div.figure { padding: 0.5em; }
  div.figure p { text-align: center; }
  div.inlinetask {
    padding:10px;
    border:2px solid gray;
    margin:10px;
    background: #ffffcc;
  }
  textarea { overflow-x: auto; }
  .linenr { font-size:smaller }
  .code-highlighted {background-color:#ffff00;}
  .org-info-js_info-navigation { border-style:none; }
  #org-info-js_console-label { font-size:10px; font-weight:bold;
                               white-space:nowrap; }
  .org-info-js_search-highlight {background-color:#ffff00; color:#000000;
                                 font-weight:bold; }
  /*]]>*/-->
</style>
<link rel="stylesheet" href="css/worg.css" type="text/css" media="screen" />
<script type="text/javascript">
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>

</head>
<body>

<div id="preamble">
<a href="index.html">Home</a> &nbsp; &nbsp;
          <!-- Plupper Button -->
          <div id="plupperButton" style="display: inline;"></div>
          <!-- End of Plupper Button Code -->

</div>

<div id="content">
<h1 class="title">Homework 7</h1>


<div id="table-of-contents">
<h2>TOC</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">Task (100 pts)</a>
<ul>
<li><a href="#sec-1-1">Possible pseudo-code</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-1" class="outline-2">
<h2 id="sec-1">Task (100 pts)</h2>
<div class="outline-text-2" id="text-1">


<p>
Download the <a href="./downloads/cse630-ai-articles-stemmed.zip">Zip file of all AI articles (stemmed documents)</a>. Or, if
you do not want to use those documents, gather your own, and define
new categories. You&rsquo;ll want a handful of training documents (say,
10-20) and a few test documents (say, 5-10). Also, define at least 3
or so categories.
</p>
<p>
Perform Bayesian document classification (from the <a href="./bayesian-methods.html">Bayesian methods</a>
notes). Report the experimental F-score after training on three random
subsets of the data. Always train with a majority of the data (say,
90%), test on the remaining set.
</p>

</div>

<div id="outline-container-1-1" class="outline-3">
<h3 id="sec-1-1">Possible pseudo-code</h3>
<div class="outline-text-3" id="text-1-1">


<p>
The challenge with this assignment is not the math but getting all the
data needed to compute. As is often the case in AI research, the
mathematics are simple but the algorithm, particularly the collection
and processing of data, is the real challenge. I expect you&rsquo;ll feel
that in this assignment.
</p>
<p>
In the aim of possibly helping you along, here is some pseudo-code
(which we developed in class):
</p>



<pre class="example">Task 1. Set up global variables.

- create a map for di values, with keys = strings and values = ints
  (this map has words as keys; the value for a word is the number of
   documents across all categories that have this word anywhere in the
   document)

- create several maps for dci values (strings -&gt; ints again, like the
  di map; these maps record the number of documents in a particular
  category that have a particular word); perhaps you can put these
  maps in another map, like so: dci[category][word] = #; in C++,
  that's map&lt;string, map&lt;string, int&gt; &gt;
             (cat)       (word)  (# of docs)

Task 2. Read the text documents.

- open the listing.txt file (assuming you are using the AI dataset)
- loop: for each line in the listing.txt file
  - read the first "word" -- this is a file name (without the .txt)
  - open the .txt file
  - create a document map D with keys = strings and values = true/false
    (this map will represent the document; the strings are words from
     the document, and the true/false means the document does or does
     not have that word; of course, we don't need to put words in the
     map that the document does not have, just words it does, so only
     true's will be in the map, not false's; you might prefer to use a
     set of strings rather than a map)
  - loop: for each word in the document
    - read the word from the .txt file
    - record this word in D
  - close the .txt file
  - read the rest of the line from the listing.txt file (the
    number of categories and the categories themselves)
    - record this category information for the document; how will you
      do this?
  - put this document map in a vector

Task 3. Split the vector of document maps into a training and testing
set.

- shuffle the vector
- choose a position at about the 90% mark
- put all doc maps before this position in a training vector
- put all doc maps after this position in a testing vector

Task 4. Update the di values. This is best done after tasks 2 &amp; 3 are
done.

- loop: for each document in the training set
  - loop: for each word in the doc map
    - increment in the global di map the number of occurrences of
      documents with this word (because one more document has this
      word)
    - loop: for each category that this document is a member of
      - increment in the global dci map the value for this word in
        this category

Task 5. Classify each testing document

- set up variables for true positive, false positive, false negative
  counts
- loop: for each testing document:
  - figure out which category (or top 2, top 3, etc.; your choice)
    maximizes the final formula in the Bayesian methods notes...
</pre>


<p>
This is a chunk of C++ that you may find useful for Task 2:
</p>



<pre class="src src-c++"><span style="color: #483d8b;">#include</span> <span style="color: #8b2252;">&lt;fstream&gt;</span>
<span style="color: #483d8b;">#include</span> <span style="color: #8b2252;">&lt;string&gt;</span>

<span style="color: #b22222;">// </span><span style="color: #b22222;">...</span>

<span style="color: #228b22;">ifstream</span> <span style="color: #a0522d;">f</span>;
f.open(<span style="color: #8b2252;">"listing.txt"</span>);
<span style="color: #a020f0;">while</span>(!f.eof()) { <span style="color: #b22222;">// </span><span style="color: #b22222;">eof() is true if the file is finished</span>
    <span style="color: #228b22;">string</span> <span style="color: #a0522d;">docfile</span>;
    f &gt;&gt; docfile;
    <span style="color: #228b22;">int</span> <span style="color: #a0522d;">category_count</span>;
    f &gt;&gt; category_count;
    <span style="color: #a020f0;">for</span>(<span style="color: #228b22;">int</span> <span style="color: #a0522d;">i</span> = 0; i &lt; category_count; i++) {
        <span style="color: #228b22;">string</span> <span style="color: #a0522d;">category</span>;
        f &gt;&gt; category;
        <span style="color: #b22222;">// </span><span style="color: #b22222;">do something with category</span>
    }
    <span style="color: #b22222;">// </span><span style="color: #b22222;">open docfile, process it a word at a time</span>
    <span style="color: #228b22;">ifstream</span> <span style="color: #a0522d;">df</span>;
    df.open(docfile.c_string()); <span style="color: #b22222;">// </span><span style="color: #b22222;">c_string() is just a funky C++ thing</span>
    <span style="color: #a020f0;">while</span>(!df.eof()) {
        <span style="color: #228b22;">string</span> <span style="color: #a0522d;">word</span>;
        df &gt;&gt; word;
        <span style="color: #b22222;">// </span><span style="color: #b22222;">do something with word</span>
    }
    df.close()

    <span style="color: #b22222;">// </span><span style="color: #b22222;">done with that line of listing.txt</span>
}
f.close()
</pre>


<div style="font-size: 80%;">
<span xmlns:dct="http://purl.org/dc/terms/" href="http://purl.org/dc/dcmitype/Text" property="dct:title" rel="dct:type">CSE 3521 material</span> by <a xmlns:cc="http://creativecommons.org/ns#" href="http://cse3521.artifice.cc" property="cc:attributionName" rel="cc:attributionURL">Joshua Eckroth</a> is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-ShareAlike 3.0 Unported License</a>. Source code for this website available at <a href="https://github.com/joshuaeckroth/cse3521-website">GitHub</a>.
</div>

<!-- Plupper Tracking Code -->
<script src="https://www.google.com/jsapi"></script>
<script type="text/javascript"
    src="https://static.plupper.com/js/plupper.js"></script>
<script type="text/javascript">
    plupper.init("joshuaeckroth@plupper.com");
    plupper.enableCobrowsing();
</script>
<!-- End of Plupper Tracking Code -->


</div>
</div>
</div>
</div>

</body>
</html>
